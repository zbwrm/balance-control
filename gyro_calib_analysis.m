gyrodata = [2
2.02
2.03
-1.66
-1.66
-1.68
-1.71
-1.74
-1.78
-1.81
-1.85
-1.9
-1.94
-2
-2.06
-2.1
-2.15
-2.19
-2.22
-2.23
1.66
1.66
1.69
1.71
1.76
1.81
1.85
1.9
1.96
2
2.04
2.07
2.08
-1.66
-1.66
-1.68
-1.71
-1.74
-1.79
-1.84
-1.89
-1.94
-1.99
-2.02
-2.05
-2.06
1.66
1.66
1.67
1.7
1.74
1.78
1.82
1.87
1.91
1.96
2
2.02
2.04
-1.66
-1.66
-1.67
-1.69
-1.73
-1.77
-1.81
-1.86
-1.9
-1.94
-1.97
-2
-2.01
1.66
1.66
1.67
1.7
1.72
1.76
1.81
1.84
1.89
1.93
1.95
1.98
1.99
-1.66
-1.66
-1.67
-1.69
-1.73
-1.76
-1.8
-1.84
-1.87
-1.91
-1.93
-1.96
-1.97
1.66
1.66
1.68
1.69
1.72
1.76
1.79
1.83
1.86
1.89
1.91
1.93
1.94
-1.66
-1.66
-1.67
-1.69
-1.72
-1.75
-1.78
-1.81
-1.84
-1.87
-1.89
-1.91
-1.92
1.66
1.66
1.67
1.69
1.72
1.74
1.77
1.8
1.82
1.85
1.87
1.89
1.89
-1.66
-1.66
-1.67
-1.68
-1.7
-1.73
-1.75
-1.78
-1.8
-1.83
-1.85
-1.86
-1.87
1.66
1.66
1.66
1.68
1.69
1.71
1.74
1.76
1.78
1.8
1.82
1.84
1.85
-1.66
-1.66
-1.66
-1.67
-1.69
-1.71
-1.73
-1.74
-1.77
-1.79
-1.8
-1.81
-1.82
1.66
1.66
1.66
1.66
1.68
1.69
1.71
1.73
1.74
1.76
1.78
1.79
1.8
-1.66
-1.66
-1.66
-1.67
-1.68
-1.69
-1.7
-1.72
-1.73
-1.74
-1.75
1.66
1.66
1.67
1.69
1.7
1.72
1.74
1.76
1.77
-1.66
-1.66
-1.68
-1.7
-1.72
-1.76
-1.79
-1.64
-1.62
-1.61
-1.6
-1.66
-1.66
-1.67
-1.67
-1.68
-1.69
1.66
1.66
1.66
1.66
1.66
1.66
1.66
1.66
1.66
1.66
1.66
1.66
1.66
1.66
1.66
1.66
1.66
1.66
1.66
1.66
1.66
1.66
1.66
1.66
1.66
1.66
1.66
1.66
1.66
1.66
1.66
1.66
-1.66
-1.66
-1.67
-1.68
-1.69
-1.69];
%Clean data and create time array for plotting
clean_gyrodata = gyrodata(1:113,:);
samplingrate = 50;%milliseconds
time_sec = (1:length(clean_gyrodata))*samplingrate*0.001;

%create plot
plot(time_sec,clean_gyrodata);
xlabel("Time (s)");
ylabel("Rocky Gyro Output");
title("Rocky Gyro Calibration Data: Determining the Pendulum Natural Frequency");

%Determine natural frequency by finding peaks of data
[gyro_peak_values,gyro_peak_indices] = findpeaks(clean_gyrodata);
gyro_peak_times = gyro_peak_indices.*samplingrate.*0.001;
gyro_periods = diff(gyro_peak_times);
gyro_nf = 1/(mean(gyro_periods))
gyro_approx_T = mean(gyro_periods);
L = ((0.5*gyro_approx_T/pi)^2)*9.81